{% extends "blog_app/base.html" %}
<!-- prettier-ignore -->
{% block title %}Blog Posts{% endblock %} 
{%block content %}
<h1>My Blog</h1>
{% for post in posts %}
<div class="post">
  <h2 class="post-title">
    <a href="{% url 'post_detail' post.pk %}">{{ post.title }}</a>
  </h2>
  <!-- prettier-ignore -->
  <p class="post-meta">
      Published: {{ post.published_date|date:"F j, Y" }} by {{ post.author.username }}
    </p>
  <p class="post-tags">
    {% for tag in post.tags.all %}
    <span>{{ tag.name }}</span>
    {% empty %}
    <span>No tags</span>
    {% endfor %}
  </p>
  <p class="post-excerpt">{{ post.content|truncatewords:30 }}</p>
  {% if user.is_authenticated %}
  <div class="post-controls">
    <a href="{% url 'post_edit' post.pk %}">Edit</a>
    <a
      href="{% url 'post_delete' post.pk %}"
      onclick="return confirm('Are you sure you want to delete this post?')"
      >Delete</a
    >
  </div>
  {% endif %}
</div>
{% empty %}
<p>No posts available.</p>
{% endfor %} {% endblock %}
